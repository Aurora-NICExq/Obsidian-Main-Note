---
tags:
  - Multivariable_Calculus
---

### 引入

在**约束条件**下做最值（min/max）。形式是
$$
\text{极值 } f(x,y,z)\quad \text{s.t. } g(x,y,z)=c
$$
变量不再独立，直接找 $\nabla f=0$ 往往无效。讲座先强调：若约束够简单，可以解出一个变量代回去；但很多时候约束“解不出来”，需要新方法。 

------

### 几何核心：最优点处“等值集相切” ⇒ 梯度平行

二维图像的直观：在约束曲线 $g(x,y)=c$ 上找 $f$ 的最小值时，**最小值对应的 $f$ 等值线会与约束曲线相切**。
 相切意味着它们的切线方向相同，因此法向量（也就是梯度方向）必须平行：
$$
\nabla f \parallel \nabla g
$$
“梯度垂直等值线/等值面”的结论：$\nabla f$ 垂直 $f=\text{const}$，$\nabla g$ 垂直 $g=\text{const}$，相切 ⇒ 两个法向量平行。

------

### 拉格朗日乘数方程

“平行”用“成比例”表达：存在标量 $\lambda$ 使
$$
\nabla f = \lambda \nabla g,\qquad g=c
$$
未知量从 $(x,y)$ 变成 $(x,y,\lambda)$，再加上约束方程正好配平。

------

### 双曲线 $xy=3$ 

把“距离最小”改成“距离平方最小”：
$$
f(x,y)=x^2+y^2,\quad g(x,y)=xy=3
$$
方程：
$$
f_x=2x=\lambda\,g_x=\lambda y,\quad
f_y=2y=\lambda\,g_y=\lambda x,\quad
xy=3
$$
解得 $\lambda=2$，并给出两点
$$
(\sqrt3,\sqrt3),\quad (-\sqrt3,-\sqrt3)
$$
------

### 方向导数解释

在约束面 $g=c$ 上的最优点，沿任何**允许方向**（也就是切向方向）移动，$f$ 的一阶变化应为 0：
$$
\frac{df}{ds}=0\quad(\text{对所有切向 } \hat u)
$$
而方向导数 $\frac{df}{ds}=\nabla f\cdot \hat u$，所以所有切向量都与 $\nabla f$ 垂直，说明 $\nabla f$ 是约束面的法向量；但 $\nabla g$ 也是约束面 $g=c$ 的法向量，于是二者平行。

------

### 注意点

- **拉格朗日乘子法只给候选点**，不直接判别 max/min。
- **二阶判别法（Hessian 那套）在约束场景下不直接适用**

------

### 进阶例子

设底面三角形固定、体积固定 ⇒ 高 $h$ 固定（因为 $V=\frac13A_{\text{base}}h$）。顶点在平面 $z=h$ 上移动。
 直接用 $(x,y)$ 写三侧面积会很难，于是换一组更“贴合几何”的变量：令 $a_i$ 为底边三边长，$u_i$ 为顶点投影到三边的距离；每个侧面面积形如 $\tfrac12 a_i\sqrt{u_i^2+h^2}$。约束来自底面面积分割：
$$
A_{\text{base}}=\tfrac12(a_1u_1+a_2u_2+a_3u_3)
$$
做拉格朗日乘子得到 $u_1=u_2=u_3$，因此顶点投影点是底面三角形的**内心（incenter）**位置（到三边距离相等）。

------

### 做题模板

1. 写目标 $f$ 与约束 $g=c$
2. 列方程 $\nabla f=\lambda \nabla g$ + 约束方程
3. 解出所有候选点
4. **比较 $f$ 值**并检查是否存在“跑到边界/无穷远更大更小”的情况（决定全局 max/min）

**约束最值点处，$\nabla f$ 不再要等于 0，而是要“被约束面拦住”——于是只能沿 $\nabla g$ 的法向方向伸展。** 
