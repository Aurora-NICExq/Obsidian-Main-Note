---
tags:
  - LinearAlgebra
  - projection
---
## 标准正交向量
### 定义
一组向量 $q_1, q_2, \dots, q_n$ 如果满足以下两个条件，则称为**标准正交向量**：

1. **正交 (Orthogonal)：** 任意两个不同向量互相垂直，即 $q_i^T q_j = 0 \ (i \neq j)$。
    
2. **标准 (Normal)：** 每个向量的长度（范数）为1，即 $q_i^T q_i = 1$。

#### 数学简记：

$$q_i^T q_j = \delta_{ij} = \begin{cases} 0 & \text{if } i \neq j \\ 1 & \text{if } i = j \end{cases}$$

## 矩阵 $Q$ 的性质
把这些标准正交向量 $q_1, \dots, q_n$ 作为列向量放入一个矩阵中，通常用 **$Q$** 表示。

### 关键性质

$$Q^T Q = I$$

解释： 矩阵乘法 $Q^T Q$ 的第 $(i, j)$ 个元素实际上就是第 $i$ 列和第 $j$ 列的点积。由于它们是标准正交的，对角线为1，非对角线为0，因此结果是单位矩阵。

### 区分：正交矩阵 (Orthogonal Matrix)

虽然我们叫它“正交矩阵”，但严格定义下，**只有当 $Q$ 是方阵 (Square Matrix) 时**，才被称为正交矩阵。

- 如果 $Q$ 是方阵（$n \times n$）：
    
    $$Q^T = Q^{-1}$$
    
    （这是正交矩阵最完美的性质：转置等于逆。）
    
- **例子：** 旋转矩阵 (Rotation Matrix)、置换矩阵 (Permutation Matrix)。

## $Q$ 的应用：简化计算

拥有标准正交基 ($Q$) 可以极大地简化（投影与最小二乘）的复杂公式。

### A. 投影 (Projection)

投影矩阵公式为 $P = A(A^T A)^{-1}A^T$。  [[投影、投影矩阵#^102d65|投影矩阵公式]]

当基向量为标准正交时，将 $A$ 替换为 $Q$：

- 因为 $Q^T Q = I$，且 $I^{-1} = I$。
    
- 简化后：
    
    $$P = Q Q^T$$

### B. 最小二乘法 (Least Squares)

正规方程 (Normal Equation) 为 $A^T A \hat{x} = A^T b$。

当 $A$ 替换为 $Q$：

- 方程变为：$I \hat{x} = Q^T b$。
    
- 简化后：
    $$\hat{x} = Q^T b$$
- **分量形式：** 第 $i$ 个系数 $x_i = q_i^T b$。表明计算系数不再需要解方程组，只需做点积。


## Gram-Schmidt 正交化过程 

**目标：** 给定一组线性无关的独立向量 $a, b, c$，构造出一组标准正交向量 $q_1, q_2, q_3$，使得它们生成的空间相同。

**核心思想：** 减去投影分量（即减去已经在前一个基方向上的“影子”），只保留垂直部分。

### 步骤推导

设原始向量为 $a, b, c$，目标正交向量为 $A, B, C$，最终标准化向量为 $q_1, q_2, q_3$。

1. **第一个向量 ($a$)：**
    
    - 不需要正交化，直接以此为基准。
        
    - $A = a$
        
    - 标准化：$q_1 = \frac{A}{\|A\|}$
        
2. **第二个向量 ($b$)：**
    
    - 从 $b$ 中减去它在 $q_1$ 方向上的投影。
        
    - 公式：$B = b - (b^T q_1)q_1$
        
    - _注意：这里 $b^T q_1$ 是投影系数，$(b^T q_1)q_1$ 是投影向量。_
        
    - 验证：此时 $B \perp q_1$。
        
    - 标准化：$q_2 = \frac{B}{\|B\|}$

3. **第三个向量 ($c$)：**

- 从 $c$ 中减去它在 $q_1$ **和** $q_2$ 方向上的投影。
    
- 公式：$C = c - (c^T q_1)q_1 - (c^T q_2)q_2$
    
- 标准化：$q_3 = \frac{C}{\|C\|}$

## 矩阵分解：$A = QR$

Gram-Schmidt 过程可以用矩阵乘法来表示，这就是著名的 **QR 分解**。

$$A = Q R$$

- **$A$**：原始矩阵（列向量为 $a, b, c$）。
    
- **$Q$**：正交矩阵（列向量为 $q_1, q_2, q_3$）。
    
- **$R$**：上三角矩阵 (Upper Triangular Matrix)。
    

### 为什么 $R$ 是上三角？

因为我们在构造 $a_k$ 时，只用到了 $q_1$ 到 $q_k$。

$$a_1 = (a_1^T q_1)q_1$$

$$a_2 = (a_2^T q_1)q_1 + (a_2^T q_2)q_2$$

反过来写成矩阵乘法形式，就是：

$$[ a_1 \ a_2 \ \dots ] = [ q_1 \ q_2 \ \dots ] \begin{bmatrix} r_{11} & r_{12} & \dots \\ 0 & r_{22} & \dots \\ 0 & 0 & \ddots \end{bmatrix}$$

计算 $R$ 的捷径：

利用 $Q^T Q = I$ 的性质，在 $A=QR$ 两边同乘 $Q^T$：

$$R = Q^T A$$

---

### 总结关键点

1. **正交化好处：** $Q$ 让投影矩阵变成 $QQ^T$，让最小二乘解变成 $\hat{x}_i = q_i^T b$。
    
2. **方法：** Gram-Schmidt 是把“歪”的基变成“直”的基的标准算法。
    
3. **代数本质：** 任何满秩矩阵 $A$ 都可以分解为 $Q$（标准正交）和 $R$（上三角）的乘积。