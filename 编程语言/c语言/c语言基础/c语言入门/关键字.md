---
tags:
  - c语言
---

## 关键字typedef
1. 作用：类型定义：类型重命名
```c
typedef unsigned int uint32; //绿色部分是一个类型名
unsigned int num=124;
uint32 num2=241;     //这两个变量名数据类型相同
```
[[结构体_动态内存分配]]
可用于简化结构体声明
1. 只用于类型重命名，针对类型

### 定义结构体指针

^842fec

在 C 语言中，`typedef` 的语法规则是：
> **如果你能定义一个变量，在前面加上 `typedef`，这个变量名就变成了类型名。**

#### 定义一个普通的指针变量
```c
struct Node *p; 
// 这里的 p 是一个【变量】
// p 的类型是：指向 struct Node 的指针
```

#### 把变量名换成想要的别名
```c
struct Node *LinkList;
// 如果只有这一行，LinkList 还是一个【变量】，类型是指针
```

#### 在最前面加上 `typedef`
加上 `typedef` 后，编译器就会把 `LinkList` 从“变量名”提升为“类型名”。
```c
typedef struct Node *LinkList;
// 现在，LinkList 不再是一个变量了
// 它变成了一个【类型】，代表了它原本的数据类型（即 struct Node *）
```

### 视觉图解

可以把 `typedef` 的定义看作是一个等式：

$$\text{typedef} \quad \underbrace{\text{struct Node *}}_{\text{原类型}} \quad \underbrace{\text{LinkList}}_{\text{新别名}};$$


## 关键词static
### 用于修饰变量和函数
1. 修饰局部变量-静态
2. 修饰全局变量-静态
3. 修饰函数-静态函数
*static修饰的变量的地址会分配在静态区而不是堆或栈内存*

### static修饰局部变量
**static修饰局部变量的时候，改变了变量的存储位置**：影响变量的生命周期
```c
int main(){
static int num=1; //num只初始化一次
}
```
全局变量和静态变量的地址在编译的时候分配，而不是在运行的时候分配
[[编程语言/c语言/c语言基础/练习题|static只初始化一次]]
### static修饰全局变量

### 全局变量
1. extern声明外部变量（适用于全局变量在其它文件内部定义）
2. 全局变量具有外部链接属属
```c
int Add(int x,int y){
	return x+y;
}
```
```c
extern Add(int x.int y);  //引用另一个文件中的函数
int main(){//这里是另一个源文件
	int z=Add();
}
```
3. 函数也具有外部链接属性
### static修饰
```c
static int g_num=101;
int main(){
}
```
1. static修饰全局变量，全局变量外部链接属性变成内部链接属性
2. 其它源文件不能再使用对应全局变量（作用域变小）
3. 也可以用与修饰函数，作用与修饰全局变量相同

## register寄存器操作
1. **建议**将变量存放到寄存器中（加快访问速度）
2. 由编译器决定是否放入

## define定义常量和宏
**define定义标识符常量**
```c
#define num 100
printf("%d\n",num);  //输出100
```

**define定义宏**
	1. 宏有参数（参数无类型的）
```c
#define ADD(x,y) ((x)+(y))   //宏名，宏参，宏体
int x,y;
int n=ADD(x,y);
```

- 宏展开是简单的文本替换，不自动加括号。