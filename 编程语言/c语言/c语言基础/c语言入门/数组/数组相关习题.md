---
tags:
  - c语言
---

### `&`数组

^4180fb

取出数组的整个地址
```c
#include <stdio.h>

int main() {
    int a[5] = {1, 2, 3, 4, 5};
    int *ptr = (int *)(&a + 1);
    printf("%d, %d", *(a + 1), *(ptr - 1));
    return 0;
}
```
程序输出结果为2,5


### 数组名退化

^815a46

```c
#include <stdio.h>
void func(int a[100]) {
    printf("%lu", sizeof(a));
}
int main() {
    int a[100];
    func(a);
    return 0;
}
```
在 C 语言函数参数中，数组名总是退化为指向首元素的指针。因此 `sizeof(a)` 计算的是指针的大小（64位系统为 8 字节，32位为 4 字节）。

字符串数组
```c
char str[] = "Hello"; 
printf("%zu", sizeof(str));
```
**此时得到的是字符串的长度，因为数组并没有作为函数的参数**
