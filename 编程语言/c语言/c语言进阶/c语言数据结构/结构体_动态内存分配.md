---
tags:
  - c语言
  - DataStructure
---

## 结构体 
1. 定义：结构体是一个或多个变量的集合，变量可以是不同的类型
2. 声明方式：
```c
struct 结构体名
{
	数据类型 变量名
    数据类型 变量名
}
```
3. 赋值：变量名.结构体内部变量名=值
4. 一个简单的例子：
```c
#include <stdio.h>  
int main() {  
    struct lover  {  
        int age;  
        int class;  
    };  
    struct lover zsx;  
    zsx.age=18;  
    zsx.class=2;  
    printf("%d %d", zsx.age, zsx.class);
    }
```
5. 结构体与指针
	 指针访问结构体可以提高效率
```c
struct teacher* mlj;  //mlj指向teacher结构体
```
- 通过指针向结构体中的属性赋值
  ```c
  (*mlj).age=29; //更简便的写法:mlj->age=29;
  (*mlj).class=15;
  ```

### 类型定义
1. typedef +数据类型+别名
2. 用处：起别名方便修改（预编译）
```c
typedef struct (结构体名)
{
	数据类型 变量名；
	数据类型 变量名；
}别名；
```

## 结构体大小
字节对齐
### 代码示例
```c
struct Data {
    char a;
    int b;
    char c;
};
printf("%zu", sizeof(struct Data));
```
1. `a` 占 1 字节。`b` 是 int，需要从 4 的倍数地址开始。所以在 `a` 后面填充 3 个字节。
    
2. `b` 占 4 字节。目前总共 1+3+4 = 8 字节。
    
3. `c` 占 1 字节。目前 9 字节。
    
4. 结构体总大小必须是最大成员（int, 4）的倍数。所以在 `c` 后面再填充 3 个字节，凑成 12。